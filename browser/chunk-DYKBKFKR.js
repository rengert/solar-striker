var ae=Object.create;var x=Object.defineProperty,le=Object.defineProperties,ce=Object.getOwnPropertyDescriptor,de=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,G=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,fe=Reflect.get;var F=(t,e,r)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ce=(t,e)=>{for(var r in e||={})M.call(e,r)&&F(t,r,e[r]);if(U)for(var r of U(e))K.call(e,r)&&F(t,r,e[r]);return t},ke=(t,e)=>le(t,de(e));var $e=(t,e)=>{var r={};for(var n in t)M.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&U)for(var n of U(t))e.indexOf(n)<0&&K.call(t,n)&&(r[n]=t[n]);return r};var Ee=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Oe=(t,e)=>{for(var r in e)x(t,r,{get:e[r],enumerable:!0})},ge=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ue(e))!M.call(t,s)&&s!==r&&x(t,s,{get:()=>e[s],enumerable:!(n=ce(e,s))||n.enumerable});return t};var je=(t,e,r)=>(r=t!=null?ae(G(t)):{},ge(e||!t||!t.__esModule?x(r,"default",{value:t,enumerable:!0}):r,t));var Ue=(t,e,r)=>fe(G(t),r,e);var d=(t,e,r)=>new Promise((n,s)=>{var i=c=>{try{o(r.next(c))}catch(l){s(l)}},a=c=>{try{o(r.throw(c))}catch(l){s(l)}},o=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,a);o((r=r.apply(t,e)).next())});var me=t=>{let e=new Map;e.set("web",{name:"web"});let r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(i,a)=>{r.platforms.set(i,a)},s=i=>{r.platforms.has(i)&&(r.currentPlatform=r.platforms.get(i))};return r.addPlatform=n,r.setPlatform=s,r},he=t=>t.CapacitorPlatforms=me(t),J=he(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ae=J.addPlatform,_e=J.setPlatform;var $=function(t){return t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE",t}($||{}),k=class extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}},we=t=>{var e,r;return t?.androidBridge?"android":!((r=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},ve=t=>{var e,r,n,s,i;let a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},c=o.Plugins=o.Plugins||{},l=t.CapacitorPlatforms,E=()=>a!==null?a.name:we(t),y=((e=l?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||E,S=()=>y()!=="web",X=((r=l?.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||S,Y=u=>{let f=T.get(u);return!!(f?.platforms.has(y())||I(u))},Z=((n=l?.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||Y,N=u=>{var f;return(f=o.PluginHeaders)===null||f===void 0?void 0:f.find(L=>L.name===u)},I=((s=l?.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||N,ee=u=>t.console.error(u),te=(u,f,L)=>Promise.reject(`${L} does not have an implementation of "${f}".`),T=new Map,re=(u,f={})=>{let L=T.get(u);if(L)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),L.proxy;let p=y(),C=I(u),v,se=()=>d(void 0,null,function*(){return!v&&p in f?v=typeof f[p]=="function"?v=yield f[p]():v=f[p]:a!==null&&!v&&"web"in f&&(v=typeof f.web=="function"?v=yield f.web():v=f.web),v}),oe=(g,m)=>{var w,P;if(C){let b=C?.methods.find(h=>m===h.name);if(b)return b.rtype==="promise"?h=>o.nativePromise(u,m.toString(),h):(h,O)=>o.nativeCallback(u,m.toString(),h,O);if(g)return(w=g[m])===null||w===void 0?void 0:w.bind(g)}else{if(g)return(P=g[m])===null||P===void 0?void 0:P.bind(g);throw new k(`"${u}" plugin is not implemented on ${p}`,$.Unimplemented)}},H=g=>{let m,w=(...P)=>{let b=se().then(h=>{let O=oe(h,g);if(O){let j=O(...P);return m=j?.remove,j}else throw new k(`"${u}.${g}()" is not implemented on ${p}`,$.Unimplemented)});return g==="addListener"&&(b.remove=()=>d(void 0,null,function*(){return m()})),b};return w.toString=()=>`${g.toString()}() { [capacitor code] }`,Object.defineProperty(w,"name",{value:g,writable:!1,configurable:!1}),w},q=H("addListener"),B=H("removeListener"),ie=(g,m)=>{let w=q({eventName:g},m),P=()=>d(void 0,null,function*(){let h=yield w;B({eventName:g,callbackId:h},m)}),b=new Promise(h=>w.then(()=>h({remove:P})));return b.remove=()=>d(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield P()}),b},W=new Proxy({},{get(g,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?ie:q;case"removeListener":return B;default:return H(m)}}});return c[u]=W,T.set(u,{name:u,proxy:W,platforms:new Set([...Object.keys(f),...C?[p]:[]])}),W},ne=((i=l?.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||re;return o.convertFileSrc||(o.convertFileSrc=u=>u),o.getPlatform=y,o.handleError=ee,o.isNativePlatform=X,o.isPluginAvailable=Z,o.pluginMethodNoop=te,o.registerPlugin=ne,o.Exception=k,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Pe=t=>t.Capacitor=ve(t),A=Pe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Q=A.registerPlugin,Se=A.Plugins;var _=class{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);let s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s);let i=()=>d(this,null,function*(){return this.removeListener(e,r)}),a=Promise.resolve({remove:i});return Object.defineProperty(a,"remove",{value:()=>d(this,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield i()})}),a}removeAllListeners(){return d(this,null,function*(){this.listeners={};for(let e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,r){let n=this.listeners[e];n&&n.forEach(s=>s(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new A.Exception(e,$.Unimplemented)}unavailable(e="not available"){return new A.Exception(e,$.Unavailable)}removeListener(e,r){return d(this,null,function*(){let n=this.listeners[e];if(!n)return;let s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}};var V=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),z=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),R=class extends _{getCookies(){return d(this,null,function*(){let e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=z(s).trim(),i=z(i).trim(),r[s]=i}),r})}setCookie(e){return d(this,null,function*(){try{let r=V(e.key),n=V(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}})}deleteCookie(e){return d(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})}clearCookies(){return d(this,null,function*(){try{let e=document.cookie.split(";")||[];for(let r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return d(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}},Te=Q("CapacitorCookies",{web:()=>new R}),be=t=>d(void 0,null,function*(){return new Promise((e,r)=>{let n=new FileReader;n.onload=()=>{let s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)})}),pe=(t={})=>{let e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=t[e[a]],s),{})},ye=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{let[i,a]=s,o,c;return Array.isArray(a)?(c="",a.forEach(l=>{o=e?encodeURIComponent(l):l,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${i}=${o}`),`${n}&${c}`},"").substr(1):null,Le=(t,e={})=>{let r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=pe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){let i=new URLSearchParams;for(let[a,o]of Object.entries(t.data||{}))i.set(a,o);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){let i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{i.append(c,o)});else for(let o of Object.keys(t.data))i.append(o,t.data[o]);r.body=i;let a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r},D=class extends _{request(e){return d(this,null,function*(){let r=Le(e,e.webFetchExtra),n=ye(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=yield fetch(s,r),a=i.headers.get("content-type")||"",{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let c,l;switch(o){case"arraybuffer":case"blob":l=yield i.blob(),c=yield be(l);break;case"json":c=yield i.json();break;case"document":case"text":default:c=yield i.text()}let E={};return i.headers.forEach((y,S)=>{E[S]=y}),{data:c,headers:E,status:i.status,url:i.url}})}get(e){return d(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return d(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return d(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return d(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return d(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}},He=Q("CapacitorHttp",{web:()=>new D});export{Ce as a,ke as b,$e as c,Ee as d,Oe as e,je as f,Ue as g,d as h,Q as i,_ as j};
